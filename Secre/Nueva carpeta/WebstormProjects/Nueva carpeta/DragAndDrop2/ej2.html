<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="estilo.css" rel="stylesheet"/>
</head>
<body>

    <div class="pCont">
        <img id="4" src="fresa.jpg" class="item">
        <img id="1" src="manzana.jpg" class="item" >
        <img id="2" src="naranja.jpg" class="item">
        <img id="3" src="uva.jpg" class="item">
        <br>
        <img src="carro.jpg" id="carro" ondrop="drop(event)" ondragover="allowDrop(event)">

        <table class="table">

        </table>
    </div>

    <script>

        let tabla = {
            "tabla" : [{
                nombre: "manzana",
                id: 1,
                num: 0,
            },{
                nombre: "naranja",
                id: 2,
                num: 0,
            },{
                nombre: "uva",
                id: 3,
                num: 0,
            },{
                nombre: "fresa",
                id: 4,
                num: 0,
            },]
        };


        function allowDrop(event) {
            event.preventDefault();
        }


        let items = document.querySelectorAll(".item");
        items.forEach(item => {item.addEventListener("dragstart", event=>{
            event.dataTransfer.setData("text/plain", item.id)
            })});


        function drop(event) {
            let itemId = event.dataTransfer.getData("text/plain");
            console.log(itemId)
            let item = tabla.tabla.find((item) => item.id === parseInt(itemId));
            let nombre = item.nombre;
            console.log(item)

            item.num += 1;


            let tr = document.createElement("tr");
            let t = document.querySelector(".table");
            tr.innerHTML = `<td><img src="${nombre}.jpg" style=" width: 100px; height: 80px;"></td><td>${item.num}</td>`
            t.append(tr);
        }



    </script>
</body>
</html>